---
sources:
  - apt_uri: 'http://pools.corp.deepin.com/deepin'
    apt_suite: 'unstable'
    deb_src: false
    apt_components:
      - main
      - contrib
      - non-free
  - apt_uri: 'http://pools.corp.deepin.com/ppa/fcitx'
    apt_suite: 'unstable'
    apt_trusted: true
    apt_components:
      - main
add_packages:
  - perl
  - python
  - python3
  - dconf-gsettings-backend
  - dmz-cursor-theme
  - deepin-gtk-theme
  - deepin-icon-theme
  - libqt5concurrent5
  - libqt5core5a
  - libqt5dbus5
  - libqt5gui5
  - libqt5widgets5
  - libqt5multimediawidgets5
  - libqt5network5
  - libqt5opengl5
  - libqt5printsupport5
  - libqt5qml5
  - libqt5quick5
  - libqt5quickwidgets5
  - libqt5script5
  - libqt5sql5
  - libqt5sql5-sqlite
  - libqt5svg5
  - libqt5webkit5
  - libqt5widgets5
  - libqt5x11extras5
  - libqt5xml5
  - libdtkcore2
  - libdtkwidget2
  - libdtkwm2
  - dde-qt5integration
  - qt5dxcb-plugin
  - libgsettings-qt1
  - libacl1
  - libasn1-8-heimdal
  - libasound2
  - libasound2-plugins
  - libasyncns0
  - libatk1.0-0
  - libattr1
  - libatk1.0-0
  - libattr1
  - libavahi-client3
  - libavahi-common3
  - libbz2-1.0
  - libcairo2
  - libcanberra0
  - libcanberra-gtk0
  - libcanberra-gtk-module
  - libcap2
  - libcomerr2
  - libcurl3
  - libcups2
  - libcurl3
  - libcurl3-gnutls
  - libdbus-1-3
  - libdbus-glib-1-2
  - libdbusmenu-glib4
  - libdbusmenu-gtk4
  - libexif12
  - libexpat1
  - libffi6
  - libflac8
  - libfltk1.1
  - libfontconfig1
  - libfreetype6
  - libgcc1
  - libgconf-2-4
  - libgcrypt20
  - libgdk-pixbuf2.0-0
  - libglib2.0-0
  - libglu1-mesa
  - libgmp10
  - libgomp1
  - libgpg-error0
  - libgssapi3-heimdal
  - libgssapi-krb5-2
  - libgtk2.0-0
  - libgtk-3-0
  - libgtk2.0-common
  - libgudev-1.0-0
  - libhcrypto4-heimdal
  - libheimbase1-heimdal
  - libheimntlm0-heimdal
  - libhx509-5-heimdal
  - libice6
  - libidn11
  - libjack-jackd2-0
  - libk5crypto3
  - libkeyutils1
  - libkrb5-26-heimdal
  - libkrb5-3
  - libkrb5support0
  - liblcms2-2
  - libldap-2.4-2
  - libltdl7
  - libncurses5
  - libncursesw5
  - libnotify4
  - libnspr4
  - libnss3
  - libogg0
  - libp11-kit0
  - libpango1.0-0
  - libpci3
  - libpcre3
  - libpixman-1-0
  - libpng16-16
  - libpulse0
  - libsamplerate0
  - libselinux1
  - libsm6
  - libsndfile1
  - libspeex1
  - libspeexdsp1
  - libsqlite3-0
  - libstdc++6
  - libtdb1
  - libtheora0
  - libtiff5
  - libtinfo5
  - libudev1
  - libusb-1.0-0
  - libuuid1
  - libva1
  - libva-x11-1
  - libvdpau1
  - libvorbis0a
  - libvorbisenc2
  - libvorbisfile3
  - libwind0-heimdal
  - libwrap0
  - libx11-6
  - libx11-data
  - libx11-xcb1
  - libxau6
  - libxaw7
  - libxcb1
  - libxcb-composite0
  - libxcb-damage0
  - libxcb-dpms0
  - libxcb-dri2-0
  - libxcb-dri3-0
  - libxcb-glx0
  - libxcb-present0
  - libxcb-randr0
  - libxcb-record0
  - libxcb-render0
  - libxcb-res0
  - libxcb-screensaver0
  - libxcb-shape0
  - libxcb-shm0
  - libxcb-sync1
  - libxcb-xf86dri0
  - libxcb-xfixes0
  - libxcb-xinerama0
  - libxcb-xkb1
  - libxcb-xtest0
  - libxcb-xv0
  - libxcb-xvmc0
  - libxcomposite1
  - libxcursor1
  - libxdamage1
  - libxdmcp6
  - libxext6
  - libxfixes3
  - libxft2
  - libxi6
  - libxinerama1
  - libxml2
  - libxmu6
  - libxpm4
  - libxrandr2
  - libxrender1
  - libxss1
  - libxt6
  - libxtst6
  - libxxf86vm1
  - libxv1
  - liblua5.2-0
  - libuchardet0
  - mime-support
  - libreadline7
  - libssl1.1
  - libsmbclient
  - samba-libs
  - zlib1g
  - libatomic1
  - adwaita-icon-theme
  - dconf-gsettings-backend
  - dconf-service
  - fontconfig
  - fontconfig-config
  - fonts-dejavu-core
  - glib-networking
  - glib-networking-common
  - glib-networking-services
  - gtk-update-icon-cache
  - hicolor-icon-theme
  - libatk-bridge2.0-0
  - libatk1.0-0
  - libatk1.0-data
  - libatspi2.0-0
  - libavahi-client3
  - libavahi-common-data
  - libavahi-common3
  - libbsd0
  - libcairo-gobject2
  - libcairo2
  - libcolord2
  - libcroco3
  - libcups2
  - libdatrie1
  - libdbus-1-3
  - libdconf1
  - libdrm2
  - libegl1-mesa
  - libepoxy0
  - libexpat1
  - libffi6
  - libfontconfig1
  - libfreetype6
  - libgbm1
  - libgdk-pixbuf2.0-0
  - libgdk-pixbuf2.0-common
  - libglib2.0-0
  - libgmp10
  - libgnome-desktop-3-12
  - libgnutls30
  - libgraphite2-3
  - libgssapi-krb5-2
  - libgtk-3-0
  - libgtk-3-common
  - libharfbuzz0b
  - libhogweed4
  - libicu57
  - libidn2-0
  - libjbig0
  - libjpeg62-turbo
  - libjson-glib-1.0-0
  - libjson-glib-1.0-common
  - libk5crypto3
  - libkeyutils1
  - libkrb5-3
  - libkrb5support0
  - liblcms2-2
  - libnettle6
  - libp11-kit0
  - libpango-1.0-0
  - libpangocairo-1.0-0
  - libpangoft2-1.0-0
  - libpixman-1-0
  - libpng16-16
  - libproxy1v5
  - librest-0.7-0
  - librsvg2-2
  - librsvg2-common
  - libsoup-gnome2.4-1
  - libsoup2.4-1
  - libtasn1-6
  - libthai-data
  - libthai0
  - libtiff5
  - libunistring2
  - libwayland-client0
  - libwayland-cursor0
  - libwayland-egl1-mesa
  - libwayland-server0
  - libx11-6
  - libx11-data
  - libx11-xcb1
  - libxau6
  - libxcb-dri2-0
  - libxcb-dri3-0
  - libxcb-present0
  - libxcb-render0
  - libxcb-shm0
  - libxcb-sync1
  - libxcb-xfixes0
  - libxcb1
  - libxcomposite1
  - libxcursor1
  - libxdamage1
  - libxdmcp6
  - libxext6
  - libxfixes3
  - libxi6
  - libxinerama1
  - libxkbcommon0
  - libxml2
  - libxrandr2
  - libxrender1
  - libxshmfence1
  - shared-mime-info
  - xkb-data
  - libgl1-mesa-dri
  - libgl1-mesa-glx
  - libtxc-dxtn-s2tc0
  - libglib2.0-bin
  - libqcef1
  - fcitx-frontend-gtk2
  - fcitx-frontend-gtk3
  - fcitx-frontend-qt5
platform:
  add_files:
    - path: 'files/fontconfig-flatpak.conf'
      dest: 'etc/fonts/conf.d/50-flatpak.conf'
    - path: 'files/amd64/libfontconfig.so.1.10.1'
      dest: 'usr/lib/x86_64-linux-gnu/libfontconfig.so.1.8.0'
sdk:
  add_packages:
    - build-essential
    - debhelper
    - dpkg-dev
    - fakeroot
    - appstream-util
  add_files:
    - path: 'files/fontconfig-flatpak.conf'
      dest: 'etc/fonts/conf.d/50-flatpak.conf'
finish-args:
  - --env=LD_LIBRARY_PATH=/app/lib/x86_64-linux-gnu:/app/lib
  - --env=QT_PLUGIN_PATH=/app/lib/x86_64-linux-gnu/qt5/plugins
  - --env=GST_PLUGIN_SYSTEM_PATH=/usr/lib/x86_64-linux-gnu/gstreamer-1.0:/app/lib/x86_64-linux-gnu/gstreamer-1.0
  - --env=QML2_IMPORT_PATH=/app/lib/x86_64-linux-gnu/qt5/qml
  - --env=QT_QPA_PLATFORMTHEME=deepin
  - --env=DCONF_USER_CONFIG_DIR=.config/dconf
  - --env=XMODIFIERS=@im=fcitx
  - --env=QT_IM_MODULE=fcitx
  - --env=GTK_IM_MODULE=fcitx
  - --env=FCITX_USER_CONFIG_DIR=.config/fcitx
  - --filesystem=xdg-run/dconf
  - --filesystem=~/.config/fcitx:ro
  - --talk-name=org.freedesktop.portal.Fcitx
  - --talk-name=org.freedesktop.Notifications
  - --talk-name=org.freedesktop.FileManager1
  - --talk-name=com.deepin.filemanager.filedialog
  - --talk-name=com.deepin.dde.WarningDialog
  - --talk-name=com.deepin.dman
...
